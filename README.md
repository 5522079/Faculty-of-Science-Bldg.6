# 理学部6号館
以下のUnityPlayのリンクから遊べます。

[理学部6号館 on Unity Play](https://play.unity.com/ja/games/36e3f4d8-6ca5-423e-98d0-68a1a57fd9fa/6)

![title.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/3828517/2b25e336-b4e2-fc04-4ed7-1bcdb01d20ec.png)

## ゲーム概要
「理学部6号館」は、真夜中に閉じ込められた校舎から脱出を目指す探索型アドベンチャーゲームです。プレイヤーは異変を探しながら、1階を目指して校舎を降り続けます。

### ゲームのルール
1. 周囲をよく観察すること

    校舎の中ではさまざまな「異変」が隠されています。異変に気づくかどうかが脱出のカギとなります。

2. 異変を見つけたら
   
    左の階段を降りてください。異変を見逃さずに進むことが大切です。

3. 異変が見つからなかったら
   
    右の階段を降りてください。周囲を注意深く観察しつつ進みましょう。

4. 1階を目指し続けること
    
    校舎の静寂に呑まれないでください。

### チュートリアル
 - 操作説明
    
    ![Frame 39.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/3828517/58426af3-0cea-e9a1-fc21-ae7edbab119d.png)

 - 異変を見つけたら
    
    ![Frame 40.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/3828517/d16f618c-8f4a-9d10-8717-ec39b950b660.png)

 - 室名札の読み方
    
    ![Frame 41.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/3828517/6bd7ad73-f959-ecff-bcec-1d3352142c53.png)

### 想定クリア時間
5分～30分

### 動作環境
- OS：**Windows 11 以上**
- メモリ：**4GB以上**
- 入力：**キーボードとマウス**

## 制作概要

制作期間：1ヶ月半
|作業内容|期間|概要|
|---|---|---|
|設計・調査・準備|1週間程度|ゲームエンジンの選定<br>リファレンス収集<br>blenderの練習|
|3Dモデルの作成|3週間程度|モデリング<br>マテリアルの設定<br>|
|実装・デバッグ|3週間程度|ゲームシステムの実装<br>UIの作成<br>ライティングの設定|
|ビルド・リリース作業|1週間程度|公開プラットフォームの選定<br>テストプレイ|



**設計・調査・準備**

この期間に8番ライクゲームの制作を思いつき、ゲームの構想を練りました。<br>
また、ここで初めてblenderを触りました。好きなゲームの小物などをいくつか作って使い方・ショートカットを覚えました。<br>



**3Dモデルの作成**

ゲームの雰囲気を表現するうえで重要となる部分なので、プロジェクトの中でも一番時間と労力を要する工程でした。Blenderの操作に慣れてきたとはいえ、細部の調整や質感の表現に多くの試行錯誤を重ねました。

**実装**

普段の授業でJavaを使っているので、Unityでのスクリプト作成には比較的スムーズに取り組むことができました。イベント処理などUnityの特徴的なスタイルに触れ新たな知見を得るとことができました。

**デバッグ・リリース作業**

開発当初はSteamやAppStoreへの公開を検討していたのですが、ある程度の費用がかかることがわかりUnityPlayでの公開に切り替えました。



### 技術スタック

|カテゴリ|技術|選定理由|
|---|---|---|
|ゲームエンジン|Unity|Javaに慣れているのでC#の学習コストが低く、小規模なゲーム開発だから|
|DCCツール|Blender|ライセンス費用などがかからないから|
|IDE|VSCode|拡張機能で補えると思ったから。デバッグ作業が煩雑だった|
|UI設計・デザインツール|Figma|UI設計やテクスチャの調整などに使えるから|
|バージョン管理|Git,GitHub|使い慣れていたから。ファイルサイズがでかくて追跡できないものもが多かった|
|プロジェクト管理|Notion|タスク管理や進捗管理を行えるから|


### 制作時に工夫・意識したこと

今回の制作では、技術的な工夫以上に、意識面での取り組みを大切にしました。

- **最後まで作りきること**

    「最後まで作りきること」を制作の最優先目標として掲げました。アイデアを追加したくなったり、新しい技術に挑戦して挫折しそうになる場面もありましたが、とにかく形にすることを重視しました。この目標を意識したことで、途中で迷走することを防ぎ、モチベーションを維持して取り組むことができました。

- **トライ＆エラーを恐れない**

    解決できない課題が発生した際、いくつかのアプローチを試す「トライ＆エラー」を繰り返しました。初めての技術を触る中で、うまくいかないことも多々ありましたが、そのたびに調査をしスモールスケールでの実験を重ねて解決策を見つけました。これにより、問題解決能力の向上を実感するとともに、自分のスキルの幅を広げることができたと感じています。また、新しい技術に対して前向きに挑戦する姿勢を養う良い機会にもなりました。

### 制作時に詰まったところ・苦労したところ


- **Unityのライティング設定**

    今回のようなゲームはライティングが、ゲームのシーン全体の雰囲気やモデルの見栄えに大きく影響する要素だと考えています。特に、光源の配置や強度の調整が難しく、リアルな陰影を表現しつつ、プレイヤーが見やすいバランスを取るのに苦労しました。複数のライトの設定や、Unity特有のシェーダーの挙動を理解するのに時間がかかりました。<br>
    ゲームの中心的な仕組みとして「無限に続く廊下」の実装に、下図のようにプレイヤーがいる階をn階としたとき、ゲートを通過しことを検出したらn-1階を生成して後方のn+1階は削除するということを繰り返すアルゴリズムを考えていました。<br>

    ![Slide_16_9_-_2.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/3828517/dff3c05d-9829-c4d9-0d6a-b988fde00c7e.png)
    
    しかし、廊下をPrefabsで管理・生成使用としていたのですがこの方法ではベイクドライティングが適用されず、真っ暗な廊下が生成されてしまい、意図した表現ができませんでした。<br>
    この問題を解決するために、アプローチを大きく変更しました。廊下を動的に生成せず、固定された廊下を使い、プレイヤーを特定の位置へテレポートさせる方法を採用しました。この実装によって、ベイクドライティングを保持しつつ、無限に続くように見える廊下の表現を実現しました。

    ![Slide_16_9_-_3.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/3828517/0b8527b9-9c58-5bc6-fa39-ec5c59b779c2.png)

### 今後の課題


- **オリジナルアイデアでのゲーム開発**
    
    今回のゲーム開発は技術を学ぶ良い機会になった一方で、自分のアイデアや独創性を反映する部分が乏しかったと感じています。もし次にゲームを作る機会があれば、企画段階から完全オリジナルのゲーム開発に挑戦したいです。

- **計画的な設計と開発**

    ゲーム制作のお作法は知らず、実装周りの設計や考え方、仕様をしっかり詰め切れていないため、結局「自分がわかればいいや」という気持ちで進めてしまい、設計・計画を無視してしまいました。

## おわりに

このプロジェクトを通じて、技術的な学びはもちろんのこと、アイデアを形にしていく創造の楽しさや、完成させたときの達成感を味わうことができました。初めてのゲーム開発という挑戦は大変なことも多かったですが、それ以上に得るものが大きく、充実した経験となりました。
拙い文章ではありますがここまで読んでいただきありがとうございました。